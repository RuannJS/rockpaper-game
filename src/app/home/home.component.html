<article>
  <!-- RULES -->

  <div
    *ngIf="showRules"
    class="bg-white absolute top-0 left-0 right-0 bottom-0 text-slate-700 z-10 overflow-hidden"
  >
    <div class="flex flex-col gap-28 p-5">
      <span class="text-6xl font-black flex justify-center mt-14">RULES</span>
      <img src="../../assets/image-rules-bonus.svg" alt="rules" />
      <div class="flex justify-center">
        <img
          (click)="toggleRules()"
          class="flex justify-center"
          width="50"
          src="../../assets/icon-close.svg"
          alt="close"
        />
      </div>
    </div>
  </div>

  <div class="flex flex-col p-10">
    <div
      class="flex justify-between border-2 border-slate-200 rounded-lg p-5 w-full"
    >
      <img
        priority
        ngSrc="../../assets/logo-bonus.svg"
        width="150"
        height="150"
        alt=""
      />
      <div
        class="bg-white rounded-lg flex flex-col justify-evenly items-center px-5"
      >
        <span class="font-bold text-sky-700 text-2xl">SCORE</span>
        <span class="font-black text-slate-500 text-6xl">{{
          currentScore
        }}</span>
      </div>
    </div>

    <div *ngIf="isPickPhase" class="flex justify-center mt-10 relative">
      <!-- PENTAGON -->
      <img
        class="mt-16"
        ngSrc="../../assets/bg-pentagon.svg"
        width="400"
        height="400"
        alt="pentagon"
      />

      <!-- SPOCK BUTTON -->

      <img
        (click)="onUserPick(spock)"
        [ngClass]="spock.htmlClass"
        class="absolute -left-6 top-40"
        [ngSrc]="spock.image"
        width="75"
        height="75"
        [alt]="spock.name"
      />

      <!-- LIZARD BUTTON -->

      <img
        (click)="onUserPick(lizard)"
        [ngClass]="lizard.htmlClass"
        class="absolute -bottom-5 left-7"
        [ngSrc]="lizard.image"
        width="75"
        height="75"
        [alt]="lizard.name"
      />

      <!-- ROCK -->
      <img
        (click)="onUserPick(rock)"
        [ngClass]="rock.htmlClass"
        class="absolute -bottom-5 left-60"
        [ngSrc]="rock.image"
        width="75"
        height="75"
        [alt]="rock.name"
      />

      <!-- PAPER -->
      <img
        (click)="onUserPick(paper)"
        [ngClass]="paper.htmlClass"
        class="absolute top-40 -right-6"
        [ngSrc]="paper.image"
        width="75"
        height="75"
        [alt]="paper.name"
      />

      <!-- SCISSORS -->
      <img
        (click)="onUserPick(scissors)"
        [ngClass]="scissors.htmlClass"
        class="absolute top-8"
        [ngSrc]="scissors.image"
        width="75"
        height="75"
        [alt]="scissors.name"
      />
    </div>

    <div *ngIf="!isPickPhase" class="flex justify-center mt-16">
      <div class="flex flex-col gap-10 justify-center items-center">
        <div class="flex flex-col items-center gap-5">
          <span class="text-4xl font-bold text-slate-700">YOU PICKED</span>
          <img
            width="75"
            height="75"
            [ngClass]="currentSelectedStance.htmlClass"
            [ngSrc]="currentSelectedStance.image"
            [alt]="currentSelectedStance.name"
          />
        </div>

        <div class="flex flex-col items-center gap-5">
          <span class="text-4xl font-bold text-slate-700"
            >THE HOUSE PICKED</span
          >
          <img
            width="75"
            height="75"
            [ngClass]="currentHouseStance.htmlClass"
            [ngSrc]="currentHouseStance.image"
            [alt]="currentHouseStance.name"
          />
        </div>

        <div class="flex flex-col gap-5 items-center mt-5 animate-pulse">
          <span class="text-6xl font-bold text-slate-700">
            {{ gameResult.message.toUpperCase() }}
          </span>
          <button
            (click)="resetGamePhase()"
            class="bg-white text-sky-900 font-bold text-2xl shadow-black shadow-lg rounded-lg px-5 py-2 hover:underline"
          >
            {{ gameResult.button.toUpperCase() }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isConfirmPhase" class="flex justify-center mt-16">
    <div class="flex flex-col gap-5">
      <span class="text-center font-medium text-2xl text-slate-700"
        >You picked:
        <span class="text-3xl font-bold text-sky-900">
          {{ currentSelectedStance.name.toUpperCase() }}
        </span></span
      >
      <button
        (click)="onUserConfirm()"
        class="border-2 border-slate-500 rounded-lg px-10 py-2 text-xl font-bold text-slate-600 hover:underline hover:bg-sky-100"
        type="button"
      >
        CONFIRM
      </button>
    </div>
  </div>

  <div class="flex justify-center mt-32 pb-14">
    <button
      (click)="toggleRules()"
      class="border-2 border-slate-500 rounded-lg px-10 py-2 text-xl font-bold text-slate-600 hover:underline hover:bg-sky-100"
      type="button"
    >
      RULES
    </button>
  </div>
</article>
